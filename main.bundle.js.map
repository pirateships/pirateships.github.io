{"version":3,"sources":["/Users/Rory/Apps/pirate-ships-frontend/src/$_gendir lazy","/Users/Rory/Apps/pirate-ships-frontend/src/app/app.component.css","/Users/Rory/Apps/pirate-ships-frontend/src/app/app.component.html","/Users/Rory/Apps/pirate-ships-frontend/src/app/app.component.ts","/Users/Rory/Apps/pirate-ships-frontend/src/app/app.module.ts","/Users/Rory/Apps/pirate-ships-frontend/src/app/components/sprite/sprite.component.ts","/Users/Rory/Apps/pirate-ships-frontend/src/environments/environment.ts","/Users/Rory/Apps/pirate-ships-frontend/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Rory/Apps/pirate-ships-frontend/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"ul {\\n    padding: 0;\\n}\\nli {\\n    display: inline-block;\\n    width: 40px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Rory/Apps/pirate-ships-frontend/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<div class=\\\"map\\\">\\n    <div class=\\\"scroll\\\">\\n        <p class=\\\"blurb\\\" *ngIf=\\\"!channel\\\">This is a game that needs to be played with Amazon's Alexa.</p>\\n        <p class=\\\"blurb\\\" *ngIf=\\\"channel && !alexaBoard && !userBoard\\\">Your game is active, to see the board, ask Alexa</p>\\n        <div *ngIf=\\\"channel\\\" class=\\\"boards\\\">\\n            <ng-container *ngIf=\\\"alexaBoard\\\">\\n                <div class=\\\"alexa-board board\\\">\\n                    <h1>Alexa</h1>\\n                    <ul *ngFor=\\\"let row of alexaBoard; let rowIdx = index\\\">\\n                        <li *ngFor=\\\"let column of row; let colIdx = index\\\">\\n                            <img *ngIf=\\\"column === 'X'\\\" class=\\\"miss\\\" src=\\\"../assets/images/miss.png\\\"/>\\n                            <app-sprite *ngIf=\\\"column === 'B'\\\" src=\\\"./assets/images/fire.png\\\"\\n                                        spriteName=\\\"alexa-{{rowIdx}}-{{colIdx}}\\\" spriteHeight=\\\"40\\\" spriteWidth=\\\"82\\\"\\n                                        frames=\\\"8\\\"></app-sprite>\\n                            {{tempBoard[rowIdx][colIdx].toUpperCase()}}\\n                        </li>\\n                    </ul>\\n                </div>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"userBoard\\\">\\n                <div class=\\\"user-board board\\\">\\n                    <h1>Your Fleet</h1>\\n                    <ul *ngFor=\\\"let row of userBoard; let rowIdx = index\\\">\\n                        <li *ngFor=\\\"let column of row; let colIdx = index\\\">\\n                            <img *ngIf=\\\"column === 'X'\\\" class=\\\"miss\\\" src=\\\"../assets/images/miss.png\\\"/>\\n                            <app-sprite *ngIf=\\\"column === 'B'\\\" src=\\\"./assets/images/fire.png\\\"\\n                                        spriteName=\\\"user-{{rowIdx}}-{{colIdx}}\\\" spriteHeight=\\\"40\\\" spriteWidth=\\\"82\\\"\\n                                        frames=\\\"8\\\"></app-sprite>\\n                            {{tempBoard[rowIdx][colIdx].toUpperCase()}}\\n                        </li>\\n                    </ul>\\n                </div>\\n            </ng-container>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Rory/Apps/pirate-ships-frontend/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import {Component} from '@angular/core';\nimport {PubNubAngular} from 'pubnub-angular2';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n    pubnub: PubNubAngular;\n    channel: string;\n    userBoard: any;\n    alexaBoard: any;\n    tempBoard = [\n        ['a', 'b', 'c', 'd', 'e'],\n        ['f', 'g', 'h', 'i', 'j'],\n        ['k', 'l', 'm', 'n', 'o'],\n        ['p', 'q', 'r', 's', 't'],\n        ['u', 'v', 'w', 'x', 'y']\n    ];\n\n    constructor(private _pubnub: PubNubAngular) {\n        /**\n         * Work out if we have an id to work with\n         */\n        this.channel = this.getUrlParameter('id');\n        if (this.channel) {\n            /**\n             * We have a channel so we should start sub with pubnub\n             */\n            this.pubnub = _pubnub;\n            this.pubnub.init({\n                publishKey: 'pub-c-86bc1976-2064-4f3d-a03c-faa9dcb59a07',\n                subscribeKey: 'sub-c-5b5c9f7a-e3d9-11e7-ad36-deb77ae39928',\n                uuid: 'pirateShipFE'\n            });\n            this.pubnub.subscribe({\n                channels: [this.channel],\n                triggerEvents: ['message']\n            });\n            this.pubnub.getMessage(this.channel, (message) => {\n                console.log(JSON.parse(message.message).data.alexaBoard);\n                // console.log(JSON.parse(message.message).data.userHitCount);\n                this.userBoard = JSON.parse(message.message).data.userBoard;\n                this.alexaBoard = JSON.parse(message.message).data.alexaBoard;\n            });\n        }\n    }\n\n    /**\n     * Grab a param from the URL\n     * @param sParam\n     * @returns {string}\n     */\n    private getUrlParameter(sParam) {\n        return decodeURIComponent(window.location.search.substring(1)).split('&')\n            .map((v) => {\n                return v.split('=');\n            })\n            .filter((v) => {\n                return (v[0] === sParam) ? true : false;\n            })\n            .reduce((prev, curv, index, array) => {\n                return curv[1];\n            }, undefined);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Rory/Apps/pirate-ships-frontend/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { PubNubAngular } from 'pubnub-angular2';\n\nimport { AppComponent } from './app.component';\nimport { SpriteComponent } from './components/sprite/sprite.component';\n\n@NgModule( {\n\tdeclarations: [\n\t\tAppComponent,\n        SpriteComponent\n\t],\n\timports: [\n\t\tBrowserModule\n\t],\n\tproviders: [ PubNubAngular ],\n\tbootstrap: [ AppComponent ]\n} )\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Rory/Apps/pirate-ships-frontend/src/app/app.module.ts","import {Component, AfterViewInit, Input} from '@angular/core';\n\n@Component({\n    selector: 'app-sprite',\n    template: `\n        <canvas class=\"sprite\" id=\"{{spriteName}}\" width=\"10px\" height=\"40px\"></canvas>\n    `\n})\nexport class SpriteComponent implements AfterViewInit {\n\n    @Input() frames: number;\n    @Input() spriteHeight: string;\n    @Input() name: string;\n    @Input() src: string;\n    @Input() spriteName: string;\n    @Input() spriteWidth: string;\n    context: CanvasRenderingContext2D;\n    image = new Image();\n\n    constructor() {\n    }\n\n    ngAfterViewInit() {\n        this.image.src = this.src;\n        const canvas = <HTMLCanvasElement>document.getElementById(this.spriteName);\n        this.context = canvas.getContext('2d');\n        const fairy = this.sprite({\n            context: this.context,\n            width: this.spriteWidth,\n            height: this.spriteHeight,\n            image: this.image,\n            numberOfFrames: this.frames,\n            ticksPerFrame: 1\n        });\n        this.animateSprite(fairy);\n    }\n\n    animateSprite(sprite) {\n        sprite.update();\n        sprite.render();\n        setTimeout(() => {\n            this.animateSprite(sprite);\n        }, 33);\n    }\n\n    sprite(options) {\n\n        const that = <any>{},\n            ticksPerFrame = options.ticksPerFrame || 0,\n            numberOfFrames = options.numberOfFrames || 1;\n        let tickCount = 0,\n            frameIndex = 0;\n\n        that.context = options.context;\n        that.width = options.width;\n        that.height = options.height;\n        that.image = options.image;\n\n        that.update = function () {\n\n            tickCount += 1;\n\n            if (tickCount > ticksPerFrame) {\n\n                tickCount = 0;\n\n                // If the current frame index is in range\n                if (frameIndex < numberOfFrames - 1) {\n                    // Go to the next frame\n                    frameIndex += 1;\n                } else {\n                    frameIndex = 0;\n                }\n            }\n        };\n\n        that.render = function () {\n\n            // Clear the canvas\n            that.context.clearRect(0, 0, that.width, that.height);\n\n            // Draw the animation\n            that.context.drawImage(\n                that.image,\n                frameIndex * that.width / numberOfFrames,\n                0,\n                that.width / numberOfFrames,\n                that.height,\n                0,\n                0,\n                that.width / numberOfFrames,\n                that.height);\n        };\n\n        return that;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/Rory/Apps/pirate-ships-frontend/src/app/components/sprite/sprite.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/Rory/Apps/pirate-ships-frontend/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /Users/Rory/Apps/pirate-ships-frontend/src/main.ts"],"sourceRoot":"webpack:///"}